var gameModule;(function(n){var t=function(){function n(n){this.boughtTickets=0,this.autoBuyIntervalId=null,this.wonMoney=0,this.lottery=n,this.lastTicketResult="",this.lastTicketWin=0,this.maxWin=0}return n.prototype.buyTicket=function(){var u,t;this.boughtTickets+=1;var i=this.lottery.winMatrix[0].fromTicketNumber+this.lottery.winMatrix[0].totalTickets,r=Math.floor(Math.random()*i),n=0;for(u in this.lottery.winMatrix)if(t=this.lottery.winMatrix[u],r>=t.fromTicketNumber){n=t.winAmount;break}return n>0?(this.lastTicketResult="Win "+n,this.wonMoney+=n,n>this.maxWin&&(this.maxWin=n)):this.lastTicketResult="No win",this.lastTicketWin=n,amplify.publish("ticketResult",this),n},n.prototype.result=function(){return this.wonMoney-this.spentMoney()},n.prototype.spentMoney=function(){return this.boughtTickets*this.lottery.lotteryPrice},n}();n.GameModel=t})(gameModule||(gameModule={}))